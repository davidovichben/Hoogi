<div class="onboarding-container" dir="rtl">
  <div class="container">
    <!-- Header with iHoogi logo -->
    <div class="header">
      <div class="logo-animation">
        <img src="/img/logo.png" alt="iHoogi Avatar" class="avatar" />
      </div>
      <h1 class="title">{{ lang.t('onboardingPage.welcome') }}</h1>
      <p class="subtitle">
        {{ lang.t('onboardingPage.subtitle') }}
      </p>
      <h2 class="steps-title">{{ lang.t('onboardingPage.firstSteps') }}</h2>
    </div>

    <!-- Steps -->
    <div class="steps-container">
      @for (step of steps; track step.number) {
        <div
          class="step-card"
          [class.completed]="isCompleted(step.number)"
          [ngClass]="getStepBgClass(step.number)"
          (click)="handleStepClick(step.number, step.action)">
          <div class="step-content">
            <!-- Number Badge -->
            <div class="step-badge">
              @if (isCompleted(step.number)) {
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              } @else {
                <span class="step-number">{{ step.number }}</span>
              }
            </div>

            <!-- Content -->
            <div class="step-text">
              <div class="step-header">
                @if (step.icon === 'user') {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>
                    <circle cx="12" cy="7" r="4"></circle>
                  </svg>
                } @else if (step.icon === 'file-text') {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                    <polyline points="14 2 14 8 20 8"></polyline>
                    <line x1="16" y1="13" x2="8" y2="13"></line>
                    <line x1="16" y1="17" x2="8" y2="17"></line>
                    <polyline points="10 9 9 9 8 9"></polyline>
                  </svg>
                } @else if (step.icon === 'message-square') {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
                  </svg>
                } @else if (step.icon === 'share') {
                  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <circle cx="18" cy="5" r="3"></circle>
                    <circle cx="6" cy="12" r="3"></circle>
                    <circle cx="18" cy="19" r="3"></circle>
                    <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                    <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                  </svg>
                }
                <h3 class="step-title">{{ step.title }}</h3>
              </div>
              <p class="step-description">{{ step.description }}</p>
            </div>

            <!-- Arrow or Check -->
            <div class="step-arrow">
              @if (isCompleted(step.number)) {
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                  <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                  <polyline points="22 4 12 14.01 9 11.01"></polyline>
                </svg>
              } @else {
                <span class="arrow">‚Üê</span>
              }
            </div>
          </div>
        </div>
      }
    </div>

    <!-- How it works section -->
    <div class="info-card">
      <div class="info-header">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"></polygon>
        </svg>
        <h2 class="info-title">{{ lang.t('onboardingPage.howItWorks') }}</h2>
      </div>
      <div class="info-flow">
        {{ lang.t('onboardingPage.flow') }}
      </div>
      <div class="info-note">
        {{ lang.t('onboardingPage.youBringClients') }}
      </div>
    </div>

    <!-- Bottom Section - "From here it's on us" -->
    <div class="info-card">
      <div class="info-header">
        <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
        </svg>
        <h2 class="info-title">{{ lang.t('onboardingPage.fromHereOnUs') }}</h2>
      </div>
      <p class="info-text">
        {{ lang.t('onboardingPage.fromHereDescription') }}
      </p>
    </div>

    <!-- Action Button -->
    <div class="action-container">
      <button (click)="handleStart()" class="start-btn">
        {{ lang.t('onboardingPage.letsStart') }}
      </button>
    </div>
  </div>
</div>

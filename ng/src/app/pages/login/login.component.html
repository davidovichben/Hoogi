<div class="min-h-screen bg-gray-50 flex items-center justify-center p-4" [class.text-right]="lang.currentLanguage === 'he'" [class.text-left]="lang.currentLanguage === 'en'">
  <div class="w-full max-w-md">
    <!-- iHoogi Logo -->
    <div class="text-center mb-6">
      <img src="/img/logo.png" alt="iHoogi" class="h-24 mx-auto mb-2">
      <h1 class="text-3xl font-bold">
	      <span>{{ lang.t('auth.loginTo') }}</span>
	      <span class="text-primary">iHoogi</span>
      </h1>
    </div>

    <!-- Forms Container -->
    <div class="bg-white rounded-lg shadow-md p-8">
      <!-- Login Form -->
      @if (activeTab === 'login') {
        <form (submit)="handleLogin(); $event.preventDefault()" class="space-y-6">
          <div>
            <label class="block text-gray-700 mb-2">{{ lang.t('auth.email') }}</label>
            <input
              type="email"
              [(ngModel)]="email"
              name="email"
              required
              placeholder="example@email.com"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
          </div>

          <div>
            <label class="block text-gray-700 mb-2">{{ lang.t('auth.password') }}</label>
            <div class="password-input-wrapper">
              <input
                [type]="showPassword ? 'text' : 'password'"
                [(ngModel)]="password"
                name="password"
                required
                [placeholder]="lang.t('auth.enterPassword')"
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
              <button
                type="button"
                class="password-toggle-btn"
                (click)="togglePasswordVisibility()"
                [disabled]="isLoading"
              >
                @if (showPassword) {
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"></path>
                    <line x1="1" y1="1" x2="23" y2="23"></line>
                  </svg>
                } @else {
                  <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path>
                    <circle cx="12" cy="12" r="3"></circle>
                  </svg>
                }
              </button>
            </div>
          </div>

          <div>
            <button type="button" (click)="activeTab = 'forgot'" class="text-teal-500 hover:underline text-sm">
              {{ lang.t('auth.forgotPassword') }}
            </button>
          </div>

          <button
            type="submit"
            [disabled]="isLoading"
            class="w-full py-3 text-white rounded-lg font-medium disabled:opacity-50 transition btn-primary">
            {{ isLoading ? lang.t('auth.loggingIn') : lang.t('auth.login') }}
          </button>

          <div class="text-center text-gray-600 text-sm">
            {{ lang.t('auth.notRegistered') }} <a routerLink="/register" class="text-teal-500 hover:underline">{{ lang.t('auth.registerNow') }}</a>
          </div>
        </form>
      }

      <!-- Forgot Password Form -->
      @if (activeTab === 'forgot') {
        <form (submit)="handleForgotPassword(); $event.preventDefault()" class="space-y-6">
          <div>
            <label class="block text-gray-700 mb-2">{{ lang.t('auth.email') }}</label>
            <input
              type="email"
              [(ngModel)]="email"
              name="email"
              required
              placeholder="example@email.com"
              class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-teal-500">
          </div>

          <button
            type="submit"
            [disabled]="isLoading"
            class="w-full py-3 text-white rounded-lg font-medium disabled:opacity-50 transition btn-primary">
            {{ isLoading ? lang.t('auth.sending') : lang.t('auth.sendResetLink') }}
          </button>

          <div class="text-center text-gray-600 text-sm">
            {{ lang.t('auth.rememberedPassword') }} <button type="button" (click)="activeTab = 'login'" class="text-teal-500 hover:underline">{{ lang.t('auth.loginNow') }}</button>
          </div>
        </form>
      }

    </div>
  </div>
</div>
